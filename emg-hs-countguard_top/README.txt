# EMG歩行解析（筋活動のみ / HS数ガード版）

## できること
- CSV1=TA推奨から Heel Strike (HS) を自動推定（BandPass→整流→RMS→バーストonset→HS）
- RMS最大値を100%（%peak）として正規化
- TAのHSで歩行周期を0–100%に正規化し、CSV1/CSV2を平均±SDで描画
- HS一覧CSV、プロットPNGを保存

## 重要：HS数（目視）で「倍検出」を抑える
- 「動画で目視したHS数（だいたい）」に 10 などを入力すると
  - 検出HS数が 20 などに大きく外れないようにスコアリングを強くします
  - さらに 2倍/3倍っぽい時は自動で「1つ飛ばし（間引き）」も試します
- 「HS数 許容差(±)」で許容範囲を調整できます（初期値±2）

## 使い方
1) CSVを2つ選択（CSV1=TA推奨）
2) HS数（目視）が分かるなら入力（例：10）
3) 解析してプロット

## GitHub Pages / rehacalc への追加
- rehacalc リポジトリ直下に `emg/` フォルダを置く
- トップの `index.html` にリンクカードを追加（既存の bbs/calc と同じ要領）
- service-worker を使っている場合、更新が反映されない時は CACHE_NAME を変える

